!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).modelz=t()}(this,function(){"use strict";function s(){}function n(e){return e}function t(e){return{}.toString.call(e)}function g(e){return null!==e&&"[object Object]"===t(e)}function l(e){return"[object Array]"==t(e)}function p(e){return"function"==typeof e}function d(e){return"string"==typeof e}var y={constructor:n,enumerable:!0,required:!1},e={castString:!0,parseNumbers:!0,onChangeListener:function(){return s},extraProperties:!1,embedPlainData:!0,preInit:n,postInit:n,types:{}};return function(c){function a(e,t){var r=Object.assign({string:function(e){if(d(e))return e;if(c.castString)return""+e;throw Error('Expect a string for "'+t+'", got "'+e+'"')},number:function(e){if("number"==typeof e)return e;if(d(e)&&c.parseNumbers)return parseFloat(e);throw Error('Expect a number for "'+t+'", got "'+e+'"')},boolean:function(e){return!!e},array:function(e){return[].concat(e)},object:function(e){return Object.assign({},e)},date:function(e){return new Date(e)},identity:n},c.types);if(p(e))return e;if(null==r[e])throw Error('Try to use unknown type "'+e+'" as type for "'+t+'"');return r[e]}return c=Object.assign({},e,c),function(f,n){return n=Object.assign({},c,n),function(e){void 0===e&&(e={});var o={},u=s,i={};n.extraProperties&&(i=Object.assign({},e)),n.embedPlainData&&Object.defineProperty(i,"_data",{get:function(){return o},enumerable:!1}),i=n.preInit(i),u=n.onChangeListener(i);var t=function(r){if(f.hasOwnProperty(r)){var n=Object.assign({},y,function(t,e){if(l(t)&&2===t.length){var r=t[0],n=t[1];return{constructor:a(r,e),required:n}}if(l(t)&&3===t.length){var o=t[0],u=t[1],i=t[2];return{constructor:a(o,e),required:u,default:i}}if(p(t))return{constructor:t};if(g(t)&&p(t.get))return{getCacheKey:s,get:t.get,set:t.set};if(g(t)&&l(t.get)&&p(t.get[0])&&(p(t.get[1])||l(t.get[1])))return{getCacheKey:l(t.get[1])?(f=t.get[1],function(t){return f.map(function(e){return t[e]}).join("|<3|")}):t.get[1],get:t.get[0],set:t.set};var f;if(d(t))try{return{constructor:a(t,e)}}catch(e){}try{return{constructor:a(typeof t,e),required:!0,default:t}}catch(e){throw new Error("No proper config handler found for config:\n"+JSON.stringify(t))}}(f[r],r));if(e.hasOwnProperty(r))null==e[r]?o[r]=e[r]:o[r]=n.constructor(e[r],i);else if(null===n.default)o[r]=n.default;else if(n.hasOwnProperty("default"))o[r]=n.constructor(n.default,i);else if(n.required)throw Error("No value set for "+r);Object.defineProperty(i,r,{enumerable:!p(n.get)&&n.enumerable,get:function(){if(n.get){var e=n.getCacheKey(i);return o.hasOwnProperty(r)&&null!=e&&e===o[r].key||(o[r]={key:e,value:n.get(i)}),o[r].value}return i._data[r]},set:function(e){var t=i[r];p(n.set)?n.set(i,e):o[r]=e,u(r,e,t)}})}};for(var r in f)t(r);return i=n.postInit(i),c.extraProperties||Object.seal(i),i}}}});
//# sourceMappingURL=modelz.min.js.map
